# =============================================================================================
# =============================================================================================
# Test the assembler / disassembler syntax and parsing process. The idea is to set the
# memory address 0 to zero, modify it with the value of the assembler result and then 
# display the memory cell as assembly code again. 
#
# =============================================================================================
# =============================================================================================
#
ENV ECHO-CMD-INPUT true
#
# =============================================================================================
# 
# Test OpMode argument cases for success and failure
#
# =============================================================================================
#
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "add r1, 100"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "add r1, -100"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "add r1, 131071"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "add r1, 131072"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "add r1, -131072"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "add r1, -131073"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "add r1, r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "add r1, r2, r3"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "add r1, 100(r3)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "add r1, -100(r3)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "add r1, 2047(r3)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "add r1, 2048(r3)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "add r1, -2048(r3)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "add r1, -2049(r3)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
#
#
# =============================================================================================
# 
# Computational instruction options
#
# ADD, ADC, SUB, SBC, AND, OR, XOR, CMP, CMPU
# =============================================================================================
#
#
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "add r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "add.L r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "add.O r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "add.LO r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "add.XX r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "adc r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "adc.L r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "adc.O r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "adc.LO r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "adc.XX r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "sub r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "sub.L r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "sub.O r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "sub.LO r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "sub.XX r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "sbc r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "sbc.L r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "sbc.O r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "sbc.LO r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "sbc.XX r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "and r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "and.C r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "and.N r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "and.CN r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "and.XX r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "or r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "or.C r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "or.N r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "or.CN r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "or.XX r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "xor r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "xor.N r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "xor.X r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "cmp.EQ r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "cmp.NE r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "cmp.LT r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "cmp.LE r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "cmp.XX r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "cmpu.EQ r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "cmpu.NE r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "cmpu.LT r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "cmpu.LE r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "cmpu.XX r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
#
#
# =============================================================================================
# 
# Other Computational instruction
#
# LSID, EXTR, DEP, DSR, SHLA, CMR
# =============================================================================================
#
#
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "lsid r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "extr r1,r2, 5, 11"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "extr r1,r2, 32, 11"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "extr r1,r2, 5, 32"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "extr.S r1,r2, 5, 11"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "extr.A r1,r2, 5"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "extr.XX r1,r2, 5"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "dep r1,r2, 5, 11"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "dep r1,r2, 32, 11"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "dep r1, r2, 5, 32"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "dep.Z r1,r2, 5, 11"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "dep.A r1,r2, 5"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "dep.I r1,r2, 5, 10"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "ds r1,r2,r3"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "ds r1,r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "ds r1"
DA 0
DAA 0
# --------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "dsr r1, r3, r5, 10"
DA 0
DAA 0
# --------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "dsr.a r1, r3, r5"
DA 0
DAA 0
# --------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "dsr.a r1, r3, r5, 10"
DA 0
DAA 0
# --------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "shla r1, r3, r5, 2"
DA 0
DAA 0
# --------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "shla.L r1, r3, r5, 2"
DA 0
DAA 0
# --------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "shla.I r1, r3, 10, 2"
DA 0
DAA 0
# --------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "shla.I r1, r3, 11, 4"
DA 0
DAA 0
# --------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "shla.IL r1, r3, 11, 2"
DA 0
DAA 0
# --------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "shla.ILO r1, r3, 11, 2"
DA 0
DAA 0
# --------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "CMR.EQ r1, r3, r2"
DA 0
DAA 0
# --------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "CMR.NE r1, r3, r2"
DA 0
DAA 0
# --------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "CMR.OD r1, r3, r2"
DA 0
DAA 0
# --------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "CMR.EV r1, r3, r2"
DA 0
DAA 0
# --------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "CMR.XX r1, r3, r2"
DA 0
DAA 0
# --------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LIDL r1, 100"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LIDL r1, 0x3FFFFF"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LIDL r1, 0x3FFFFF + 1"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "ADDIL r1, 100"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "ADDIL r1, 0x3fffff"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "ADDIL r1, 0x3fffff + 1"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MAA 0 "LDO r1, 100(r4)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LDO r1, 0x1ffff + 1 (r4)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LDO r1, -100(r4)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LDO r1, - 0x20000 - 1 (r4)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
#
#
# =============================================================================================
# 
# Load instructions
#
# LDx, LDA, LDR
# =============================================================================================
MA 0 0
MAA 0 "LD r1, 100(r4)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LD r1, -100(r4)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LD r1, 2047(r4)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LD r1, -2048(r4)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LD r1, 2048(r4)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LD r1, -2049(r4)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LD r1, r2(r4)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LD r1, (r4)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LD.M r1, (r4)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LDH.M r1, (r4)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LDB r1, (r4)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LDW r1, -1000(r4)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LDR r1, -1000(r4)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LDR r1, r5(r4)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LDA r1, 100(r4)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LDA r1, -100(r4)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LDA r1, 2047(r4)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LDA r1, -2048(r4)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LDA r1, 2048(r4)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LDA r1, -2049(r4)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LDA r1, r2(r4)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LDA r1, (r4)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "LDA.M r1, (r4)"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
#
#
# =============================================================================================
# 
# Store instructions
#
# STx, STA, STC
# =============================================================================================
#
#
MA 0 0
MAA 0 "ST 100(r4), r3"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "ST -100(r4), r3"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "ST 2047(r4), r4"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "ST -2048(r4), r9"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "ST 2048(r4), r10"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "ST -2049(r4), r7"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "ST r2(r4), r11"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "ST (r4), r15"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "ST.M (r4), r5"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "STB 0(r4), r5"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "STH (r4), r3"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "STW -1000(r4), r12"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "STC -1000(r4), r13"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "STC r5(r4), r8"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "STA 100(r4), r7"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "STA -100(r4), r6"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "STA 2047(r4), r8"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "STA -2048(r4), r5"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "STA 2048(r4), r6"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "STA -2049(r4), r11"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "STA r2(r4), r0"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "STA (r4), r5"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
MA 0 0
MAA 0 "STA.M (r4), r6"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------
#
#
# =============================================================================================
# 
# Branch instructions
#
# B, GATE, BR, BV, BE, BVE, CBR, CBRU
# =============================================================================================
#
#
MA 0 0
MAA 0 "B 100, r2"
DA 0
DAA 0
# ---------------------------------------------------------------------------------------------





